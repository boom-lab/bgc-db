{% extends 'partials/base.html' %}
{% load static %}
{% block header %}
    <!-- Datatabes -->
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.24/datatables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/searchpanes/1.2.1/js/dataTables.searchPanes.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.min.js"></script>
    <script src="{% static 'js/predeployment_table.js' %}"></script>

    <!-- Datatables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.24/datatables.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.1/css/searchPanes.dataTables.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.3/css/select.dataTables.min.css"/>
{% endblock header %}
{% block content %}

<section class="status-table-container">
   <div class='row'>
       <h2>Predeployment Floats</h2>
   </div>
  <div class='row'>
    <!-- <div id="filters" class="col-2"></div> -->
    <div class='col'>
      <table id="statustable" class="table tabel-sm">
          <thead>
            <tr>
              <th scope="col">Serial Number</th>
              <th scope="col">WMO</th>
              <th scope="col">Platform Type</th>
              <th scope="col">Location</th>
              <th scope="col">Latest Event</th>
              <th scope="col">Comment</th>
              <th scope="col">Deployment Cruise ID</th>
              <th scope="col">Deployment Platform</th>
              <th scope="col">Deployment MOB</th>
              <th scope="col">Deployment Port</th>
              <th scope="col">Passed Incoming</th>
              <th scope="col">Passed Internal Inspection</th>
              <th scope="col">Passed Pressure Test</th>
              <th scope="col">Passed Docktest</th>
              <th scope="col">Passed Flow Through</th>
            </tr>
          </thead>
          <tbody>
              {% for deployment in deployments %}
              <tr>
                <th>{{ deployment.FLOAT_SERIAL_NO }}</th>
                <td>{{ deployment.PLATFORM_NUMBER }}</td>
                <td>{{ deployment.PLATFORM_TYPE.VALUE }}</td>
                <td>{{ deployment.last_event.LOCATION }}</td>
                <td>{{ deployment.last_event.EVENT }}</td>
                <td>{{ deployment.last_event.COMMENT }}</td>
                <td>{{ deployment.DEPLOYMENT_CRUISE_ID }}</td>
                <td>{{ deployment.DEPLOYMENT_PLATFORM }}</td>
                <td>{{ deployment.DEPLOYMENT_MOB|date:'Y-m-d' }}</td>
                <td>{{ deployment.DEPLOYMENT_PORT }}</td>
                <td>{{ deployment.incoming_status }}</td>
                <td>{{ deployment.internal_inspection_status }}</td>
                <td>{{ deployment.pressure_test_status }}</td>
                <td>{{ deployment.docktest_status }}</td>
                <td>{{ deployment.flow_through_status }}</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}
{% block footer %}
{% endblock footer %}
